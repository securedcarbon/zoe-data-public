{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://zoe-data.securedcarbon.com/schemas/federal/tax-incentives.schema.json",
  "title": "Federal Tax Incentives",
  "description": "Federal tax incentives for battery energy storage (ITC, MACRS, bonus depreciation)",
  "type": "object",
  "required": ["version", "effective_date", "last_updated", "source"],
  "properties": {
    "$schema": {
      "type": "string",
      "description": "JSON Schema reference"
    },
    "version": {
      "type": "string",
      "pattern": "^[0-9]+\\.[0-9]+$",
      "description": "Data version (e.g., '2024.1')"
    },
    "effective_date": {
      "type": "string",
      "pattern": "^[0-9]{4}-[0-9]{2}-[0-9]{2}$",
      "description": "Date when the tax policy became effective (YYYY-MM-DD)"
    },
    "last_updated": {
      "type": "string",
      "pattern": "^[0-9]{4}-[0-9]{2}-[0-9]{2}$",
      "description": "Date when data was last updated (YYYY-MM-DD)"
    },
    "source": {
      "type": "string",
      "description": "Primary source reference (e.g., 'IRS Publication 946', 'IRS Section 48E')"
    },
    "source_url": {
      "type": "string",
      "description": "Single source URL (alternative to source_urls)"
    },
    "source_urls": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "Multiple source URLs (alternative to source_url)"
    },
    "notes": {
      "type": "string",
      "description": "Additional notes about the tax policy or data"
    },
    "description": {
      "type": "string",
      "description": "Description of the tax incentive program"
    },
    "base_rates": {
      "type": "object",
      "description": "Base tax credit or depreciation rates"
    },
    "adders": {
      "type": "object",
      "description": "Additional bonuses or adders to base rates"
    },
    "maximum_credit": {
      "type": "object",
      "description": "Maximum credit information"
    },
    "phase_down": {
      "type": "array",
      "description": "Phase-down schedule for credits"
    },
    "phase_down_schedule": {
      "type": "array",
      "description": "Phase-down schedule (alternative naming)"
    },
    "phase_down_notes": {
      "type": "string",
      "description": "Notes about phase-down triggers or conditions"
    },
    "energy_storage": {
      "type": "object",
      "description": "Energy storage specific provisions"
    },
    "property_classes": {
      "type": "object",
      "description": "MACRS property class information"
    },
    "section_179": {
      "type": "object",
      "description": "Section 179 expensing election information"
    },
    "conventions": {
      "type": "object",
      "description": "Depreciation convention information (half-year, mid-quarter, etc.)"
    },
    "eligible_property": {
      "type": "object",
      "description": "Eligible property requirements"
    },
    "election_out": {
      "type": "object",
      "description": "Election out provisions"
    },
    "interaction_with_itc": {
      "type": "object",
      "description": "How this incentive interacts with ITC"
    },
    "calculation_example": {
      "type": "object",
      "description": "Example calculation for reference"
    },
    "pwa_exception": {
      "type": "object",
      "description": "Prevailing wage and apprenticeship exceptions"
    }
  },
  "additionalProperties": true
}
